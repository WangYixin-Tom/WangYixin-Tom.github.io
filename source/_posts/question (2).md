# 数据结构
跳表怎么实现
堆结构是什么，是如何去调整堆结构的
.虚拟内存是什么，逻辑地址是怎么映射到物理地址的


# 算法
算法了解动态规划吗？什么情况用动态规划
最优子结构（当时突然忘了定义是啥，解释一大堆，说了LCS跟费波那西数列）
那跟分治法有什么区别？
堆排序和快排的区别和应用
排序算法有哪些？冒泡排序与快速排序的时间复杂度是多少？是否O(n^一定要比O(nlong)差？
讲一讲归并排序和他的时间复杂度。
为什么归并排序的时间复杂度为nlogn

分治和贪心的概念以及具体应用
排序是稳定的吗
堆排序建堆及排序过程
堆调整的时间复杂度
手推快排的时间复杂度
算法 令牌桶
快排：时空复杂度、稳定性、影响快排效率的因素？
第k大的数，写了快排的思路,复杂度推导

# 网络

HTTP报文头和报文体怎么分离

一个TCP支持多少个HTTP？了解HTTP复用吗？

Ping的过程以及原理

# 操作系统

内存管理机制吗 A:块 页 段 段页

堆区和栈区的区别

段页式查询一次数据总共需要几次访存 如何减少访存次数

段页式管理每一次数据访问要访问几次内存，如果有缓存呢？用什么缓存？有哪些缓存？（给我问懵了）

linux的任务资源调动命令

线程有哪些状态？wait和block的区别？Wait超时后会怎样？ 

怎么创建一个进程

面置换[算法](https://www.nowcoder.com/jump/super-jump/word?word=算法)

epoll为什么高效? ([红黑树](https://www.nowcoder.com/jump/super-jump/word?word=红黑树) 通过回调实现 时间就绪到添加到就绪列表的时间复杂度是O(1)))

 kill是靠什么来通信的 信号

fork、exec

进程的内存空间分为哪几个部分

解释下内存对齐，为什么要内存对齐

写时复制COW

 其实wait的线程被唤醒后其实会进入block的状态去抢锁，而国内大部分博客都画成唤醒后进入就绪状态。我当时说这个观点，面试官也疑惑了一下，然后解释了这个原因。因为wait是在同步代码块中运行的，所以被唤醒后会要去抢锁，抢到锁才会进入就绪状态，这不乏是个小亮点。可以看下老外的这张线程状态转换图 



.fork之后的父子进程同时读取一个文件，有什么结果？

什么是僵尸进程？大量的僵尸进程如何处理

 https://www.zhihu.com/question/27654579

- ctrl + c，会发送`SIGINT`的信号，等同于`kill -2`(interrupt)，程序那边接收到这个信号后做处理
- ctrl + z，会发送`SIGTSTP`的信号


# 网络
为什么选择2MSL

sessionId 如何维护（cookie 里带有 sessionId)

十六位校验和怎么实现的
802.3x 工作在几层，为什么

如果token被其他人拦截了，拦截者是否可以直接通过token来访问服务器呢？

讲一下JWT（Json Web Token）→怎么提取JWT的值？ → SSO? Auth2? (不会)

token的结构、[项目](https://www.nowcoder.com/jump/super-jump/word?word=项目)中登录的逻辑（简述）、token有什么问题、其他保持状态的方式

3.ARP协议的具体过程，ARP的表存储在哪里？

8.对于tcp来说，服务端断电和进程挂掉有什么区别？

# 场景题

群聊怎么实现的？消息怎么存储的？消息怎么推送的？如果这个群特别大，怎么去优化？

逻辑题: 猴子吃香蕉

小明离家有50米，每走一米吃一个苹果，起点有100个苹果，每次最多背50个苹果，请问最多可以拿回家多少苹果？

**100个人里有一个人感染了，最少用多少试纸可以检测**

如果让你设计一个直播系统，你会怎么设计？弹幕怎么存储？

OAuth2 和 JWT 的区别和作用？

 设计一个登录系统，包括账户密码登录，验证码登录，第三方授权等等

23枚硬币，有10个正面朝上。现在蒙住你的眼睛，如何将硬币分为两堆，保证两堆硬币中，正面朝上的硬币数相同。 

 答：先将硬币分为两组，A组10个，B组13个，假设此时B组有x个朝上，那么A组有10-x个朝上。再将A组每个硬币翻转，此时A组有(10-(10-x))=x枚硬币朝上，和B组朝上的硬币数相等。

智力题，一个骰子，9个人，公平的选出 2 个。

 1000 健康 + 1 新冠患者 ，试剂是足够灵敏的 ，至少多少份试剂能测出患者

**怎么实现一个线程池**
设计一个铁路/航班的查询功能，数据库该长什么样，中转地问题怎么解决
有64匹马，一共有8个赛道，想要找出最快的4匹马，要比赛最少多少轮才可以?
两个含有50亿个url的文件，如何找到公共的url 

1. 分治策略
每个 URL 占 64B，那么 50 亿个 URL 占用的空间大小约为 320GB。

5, 000, 000, 000 _ 64B ≈ 5GB _ 64 = 320GB

由于内存大小只有 4G，因此，我们不可能一次性把所有 URL 加载到内存中处理。对于这种类型的题目，一般采用分治策略，即：把一个文件中的 URL 按照某个特征划分为多个小文件，使得每个小文件大小不超过 4G，这样就可以把这个小文件读到内存中进行处理了。

思路如下：

首先遍历文件 a，对遍历到的 URL 求 hash(URL) % 1000 ，根据计算结果把遍历到的 URL 存储到 a0, a1, a2, ..., a999，这样每个大小约为 300MB。使用同样的方法遍历文件 b，把文件 b 中的 URL 分别存储到文件 b0, b1, b2, ..., b999 中。这样处理过后，所有可能相同的 URL 都在对应的小文件中，即 a0 对应 b0, ..., a999 对应 b999，不对应的小文件不可能有相同的 URL。那么接下来，我们只需要求出这 1000 对小文件中相同的 URL 就好了。

接着遍历 ai( i∈[0,999] )，把 URL 存储到一个 HashSet 集合中。然后遍历 bi 中每个 URL，看在 HashSet 集合中是否存在，若存在，说明这就是共同的 URL，可以把这个 URL 保存到一个单独的文件中



逻辑题 两个人数数字，1~30，最少说一个，最多说三个，怎么保证第一个人一定输或者一定赢

# mysql

为什么InnoDB必须有唯一主键？

说说第三范式和[第四范式](https://www.nowcoder.com/jump/super-jump/word?word=第四范式)；

3层的b+树大概能存多少数据？怎么计算的

mysql分片知道吗？有实际应用吗？具体说一下？

b+树为什么能三层能存2000多万个，计算过程。

b+树的叶子节点之间是单链还是双链，页与页之间，页内部呢。（后两个没弄过，说了一下自己理解）

extra的 using indexing 和 using where

写锁一定阻塞读吗

# redis
zset实现原理

[mget和pipeline区别](https://jzwdsb.github.io/2019/02/redis_pipeline_mget/)

- mget和pipeline都是多命令一起执行，只有一次往返的网络IO
- mget在集群下可以并行去获取，pipeline还是串行

 [redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)数据类型 除了说的五种还有吗 还能做些什么

# 实战
协程的实现原理

**多线程：两个线程交替打印1-10**

三个线程同时启动，优先级相同，分别打印A、B、C，问如何保证打印顺序为ABC。没答好，三个信号量，初始时刻 Sa=1,Sb=0,Sc=0



 设计一个限流器

统计数据表t_time中每个小时记录数
id | p_date
1 | 2020/08/29 00:10:10
2 | 2020/08/29 01:10:10
3 | 2020/08/29 01:15:10
4 | 2020/08/29 02:10:12
5 | 2020/08/29 05:08:10



20匹马，每次上场5匹，选出跑得最快的三匹，不需要知道三匹之间的快慢顺序，最优[算法](https://www.nowcoder.com/jump/super-jump/word?word=算法)？

共享内存通信和 进程之间内存隔离是不是冲突？
6、管道通信怎么实现

7、管道通信是任意进程都可以吗

RTT怎么计算出来的

10、HTTP报文头和报文体怎么分离
大v发消息，设计什么机制让他发的消息能快速被刷新出来？
概率题 抛硬币，先抛到正面的赢，第一个抛的人赢的概率？ 
操作系统中断发生了什么 
 逻辑题 两个人数数字，1~30，最少说一个，最多说三个，怎么保证第一个人一定输或者一定赢

  3. 什么函数使得用户进程将内核缓冲区当中的数据拷贝到进程中？ 
 4. 硬中断和软中断的区别？ 

IP是怎么寻址的
IP包是怎么发的（路由器转发）路由器怎么转发

如果要你实现微博或者朋友圈的功能，数据库需要那些表？具体功能要求为
用户可以关注其他用户
用户可以发微博
用户可以在主页中看到关注用户的动态
python字典原理，实现一个能排序的字典如何实现，从数据结构出发

死锁，哲学家吃饭问题怎么解决？死锁发生的条件


linux:
①杀掉一个进程的具体操作
②pid->kill -9 中：pid，-9代表什么？


① 32位64位操作系统的区别？
②内存寻址？内存管理？

Python yield关键字讲一下

讲一下页，页表怎么实现

断点续传的原理是什么

分页分段区别

CPU任务调度的基本方式
程序计数器的作用 
进程和线程的调度区别 

阻塞态能直接到运行态吗 
就绪态到运行态的条件（上一个进程时间片用完，本进程被系统调度） 

FTP是什么协议 

僵尸进程以及带来的问题？ 
僵尸进程中子进程未释放的具体是什么资源？ 

服务器重定向，为什么要重定向知道吗（不知道） 

线程的上下文是什么、进程的上下文是什么
binlog、redolog，两阶段提交、宕机数据恢复流程
操作系统：两进程同时操作一个文件，父子进程操作同一文件，有什么区别

HTTp 201，302，401，405，504。


1，每个结点是红的或黑的

2，根结点是黑的

3，每个叶子结点是黑的

4，如果一个结点是红的，则它的两个儿子都是黑的

5，对每个结点，从该结点到其子孙结点所有路径上的包含相同数目的黑结点
智力题：5L和6L两个桶，怎么倒3L水，水无限。

如何结束一个进程？kill底层发生了什么（信号）
CA证书是啥，干啥用的 
系统介绍一下数据库中的索引
什么是索引 -> 索引的作用 -> MySQL 有哪些索引及其适用场景和优缺点 -> 索引的底层数据结构 B+ 树 -> InnoDB 和 MyISAM 索引的区别 -> 最左匹配原则 -> 建索引注意点 -> 索引调优思路。

系统调用也算中断吗，也要保存东西吗？

2. redis怎么实现分布式锁，防止超买？redis操作是原子的，DECR操作原子操作 
3. DECR怎么实现多线程不出错？CAS原子操作 

mysql 如何保持一致性

get、post、head 
16.traceroute命令用处
12.IPv4和iPv6的区别（不知道）
DNS怎么保证最短路径
操作系统？调度算法，抢占式非抢占式时间片轮转的区别
操作系统里避免死锁的办法
docker镜像的结构是什么样子的？
虚拟内存和共享内存有什么区别

3.地址映射有哪些算法
线程同步有哪些方式，临界区算法了解哪些，信号量模型了解哪些
圆湖中心鸭子速度s，岸边老虎速度4s，问鸭子能否逃生。经典智力题。
场景题，怎么保存用户最近浏览记录（答了两方面，本地缓存（用带头尾指针的链表），服务端用redis（zset）） 
redis的big key问题, 如何优化
什么是跨域问题?如何解决?
怎么解析http报文 
从A地往B运送3000L汽油，两地相距1000KM，一辆汽车最多可装载1000L汽油，每行驶1KM耗油1L，请问从B地最多可以得到多少L汽油？ 
（汽油可以在中途放下且只有一辆车） 
算了二十分钟只给了个250L的错误答案，最后问面试官说是533L，具体过程有很多方法解，本渣到现在还没算出来。 

Unicode UTF-8 ASCII编码方式有什么区别 
一个汉字占ASCII多少字节  UTF-8中呢 

路由地址你了解多少

计算机系统为什么64位之后就没有128位了（不是很懂）

6. epoll使用场景?select具体性能消耗在哪? 
7. epoll需要拷贝文件描述符吗？ 	

怎么保证又快又安全呢？把TCP和UDP的优点结合。（不懂的人快去看QUIC）
17.cookie是怎么被种到浏览器里的
18.cookie包含哪几项内容(格式)
19.cookie有一个字段叫做http only(好像是这么拼来着(大概发这个音)有去了解过吗
20.禁用cookie的话后怎么处理, 在url中添加cookie id是怎么样的传输过程
文件描述符是什么
线程池的核心线程数大小如何确定（计算密集型为N+1，IO密集型为2N）
、怎么保证cookies不被劫持
红黑树说一下，跳表说一下，那你知道什么地方用了红黑树和跳表吗
4、用cookie和session实现用户登录的过程是咋样的，大概说下

linux中统计软中断调用的命令是啥？
MySQL里的锁底层是怎么实现的
keep-alive在HTTP请求的哪个部分
浏览器禁用cookie怎么办
mmap和direct_IO的区别？
python中的多进程，知道是怎么一回事么？
讲一下二叉树，排序二叉树，平衡二叉树，红黑树，B类树（我讲的很详细，大概讲了15分钟）

Docker的四种网络模式和实现
Kubernetes 的优雅启动和优雅停止
对Kubernetes和Docker的理解
1000瓶水有一瓶有毒，一头猪喝了之后1小时以后会死，用最少的猪测出来哪瓶有毒

1，进程的调度如何实现，如何使用红黑树的，
2，关于内存管理怎么跟红黑树有关系
3.网卡数据，
在以上这些场景，如何使用红黑树的？

jwt是对称加密，它是分成三部分了，一个是hash算法，一个是明文数据，以及签名

python 垃圾回收   装饰器 （进程线程协程）
给你10000个IP，你如何快速查找这个IP是否存在，使用什么数据结构?


说一下主从复制怎么实现
是通过执行sql还是事务来实现主从复制?

 你熟悉什么排序，各种排序的时间复杂度 

2. 堆排序建堆过程，建堆时间复杂度 
   陷入内核态的时候要保存一些啥

64批马，有一条赛道，每次比赛只能8批马进行赛跑，最小次数找出最快的4批
逻辑地址呢？（我回答虚拟地址就是逻辑地址。。） 
快表是存储在哪里的 
延迟ACK了解么

有没有刷题，刷过堆排序吗？（我：没有）面试官：那更好
堆排序的heap_insert函数
了解Docker的资源隔离原理吗（只知道是用了Linux的某个特性） 
十万（一亿）广东考生分数，找出其中中位数。
说一下AMQP协议是怎么定义一个MQ的

docker的隔离性 ？namespace技术。docker为啥要分层？

# python

8.python字典原理，实现一个能[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)的字典如何实现，从数据结构出发

