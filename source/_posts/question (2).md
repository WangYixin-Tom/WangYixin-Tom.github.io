# 数据结构
跳表怎么实现
堆结构是什么，是如何去调整堆结构的
.虚拟内存是什么，逻辑地址是怎么映射到物理地址的

BST Trie树 [红黑树](https://www.nowcoder.com/jump/super-jump/word?word=红黑树)的了解



-好的，那你说一下堆排序吧 

 （好吧，错失一个表现机会，堆排序的原理说了一下，面试官接着深挖堆排代码） 

 -你刚刚说调整堆的顺序是从上至下？ 

 -是的 

 -你确定吗？ 

 -我确定，建堆才是从下至上（心中一咚） 

 -是吗？那万一从上到下调的时候，下面出现很大的数怎么办？ 

 -这不可能，每一轮都得保证堆这个结构



红黑树是怎么新增一个节点和删除一个节点

我：只提到了左旋右旋




# 算法
算法了解动态规划吗？什么情况用动态规划
最优子结构
那跟分治法有什么区别？
堆排序和快排的区别和应用
排序算法有哪些？冒泡排序与快速排序的时间复杂度是多少？是否O(n^一定要比O(nlong)差？
讲一讲归并排序和他的时间复杂度。
为什么归并排序的时间复杂度为nlogn

分治和贪心的概念以及具体应用
排序是稳定的吗
堆排序建堆及排序过程
堆调整的时间复杂度
手推快排的时间复杂度
算法 令牌桶
快排：时空复杂度、稳定性、影响快排效率的因素？
第k大的数，写了快排的思路,复杂度推导





- 假设我有多个连接但是那些数据一起涌进来怎么办？
- 多路复用让你设计你会怎样设计？

# 操作系统


段页式管理CPU每次从内存地址读取一次数据要访问几次

讲一下页，页表怎么实现

① 32位64位操作系统的区别？
②内存寻址？内存管理？

分页分段区别

CPU任务调度的基本方式
程序计数器的作用 
进程和线程的调度区别 

阻塞态能直接到运行态吗 
就绪态到运行态的条件（上一个进程时间片用完，本进程被系统调度）

线程的上下文是什么、进程的上下文是什么

操作系统：两进程同时操作一个文件，父子进程操作同一文件，有什么区别 

共享内存的底层实现原理？数据会拷贝几份

有名管道和匿名管道的区别

inode的内容

软连接 硬链接

mv的话 inode会+1么

共享内存通信和 进程之间内存隔离是不是冲突？

内存管理机制，连续和非连续的优缺点是什么，各自有哪些方法，连续分配为什么会有碎片
20）段页式里面，段和页各自的作用是什么，段和页的大小分别是多少



#### 线程共享进程的资源，具体是指什么资源？线程之间的资源是如何通信的？

1. 线程共享的资源有：全局堆，全局变量，静态变量，进程的各种文件等公用资源
2. 线程独享的资源有：栈，局部堆，寄存器组的值，线程ID、错误返回码、信号屏蔽码等

如果是单核 CPU，多进程/线程还有优化吗？为什么？

内存管理机制吗 A:块 页 段 段页



段页式查询一次数据总共需要几次访存 如何减少访存次数

段页式管理每一次数据访问要访问几次内存，如果有缓存呢？用什么缓存？有哪些缓存？（给我问懵了）

线程有哪些状态？wait和block的区别？Wait超时后会怎样？ 

怎么创建一个进程

epoll为什么高效? ([红黑树](https://www.nowcoder.com/jump/super-jump/word?word=红黑树) 通过回调实现 时间就绪到添加到就绪列表的时间复杂度是O(1)))

fork、exec

进程的内存空间分为哪几个部分

解释下内存对齐，为什么要内存对齐

写时复制COW

 其实wait的线程被唤醒后其实会进入block的状态去抢锁，而国内大部分博客都画成唤醒后进入就绪状态。我当时说这个观点，面试官也疑惑了一下，然后解释了这个原因。因为wait是在同步代码块中运行的，所以被唤醒后会要去抢锁，抢到锁才会进入就绪状态，这不乏是个小亮点。可以看下老外的这张线程状态转换图 

fork之后的父子进程同时读取一个文件，有什么结果？

 https://www.zhihu.com/question/27654579

- ctrl + c，会发送`SIGINT`的信号，等同于`kill -2`(interrupt)，程序那边接收到这个信号后做处理
- ctrl + z，会发送`SIGTSTP`的信号

# 网络

一个TCP支持多少个HTTP？了解HTTP复用吗？

Ping的过程以及原理

ARP是什么？在哪层

说一下HTTP是如何保持长连接的

token用的是jwt对吗 ？为什么安全性得到保证

校验和一定可以判断tcp包没有被调换吗

十六位校验和怎么实现的

ip报文头部有哪些东西

http里header中content-type用途，cookie用途	

小端字节序和大端字节序，这个对什么产生影响，做什么事情会出现问题，
传一个字符串，定义为大端和小端一样吗？如果传一个数字有影响吗？

TCP窗口过大会引发问题，能详细解释一下吗？哪个传输节点会出现问题？

11、UDP可以实现可靠吗？

 TCP为什么数据量比UDP大？ 如果有1M数据，两者会差多少？

1. ICMP协议是干什么的

 是否了解RIP协议和OSPF协议？
RIP（路由信息协议）

RIP协议是一种采用距离向量算法的路由协议，基于距离-向量的路由选择协议。其设计思想简单，它要求路由器周期性地通知相邻路由器自己可以到达的网路，以及到达网络的距离（跳数），这里的“距离”实际上指的是“最短距离”。

简述RIP协议的工作原理： 路由器每30秒把自己的路由表发给邻居。路由器用邻居发来的路由表根据距离向量算法修改自己的路由表。初始时每个路由器只有到直连网距离为1的路由。

OSPF（开放最短路径优先协议）

OSPF不受某一家厂商控制，而是公开发表的。使用Dijikstra最短路径算法，使用分布式的链路状态协议。

简述OSPF协议的工作原理： 路由器互相发送直接相连的链路信息和它拥有的到其它路由器的链路信息。每个 OSPF 路由器维护相同自治系统拓扑结构的数据库。从这个数据库里，构造出最短路径树来计算出路由表。当拓扑结构发生变化时，OSPF 能迅速重新计算出路径，而只产生少量的路由协议流量。此外，所有 OSPF 路由选择协议的交换都是经过身份验证的。

SSL安全套阶层为什么运用了对称加密和非对称加密？如果非对称加密安全性更高，为什么还要用对称加密？
实现信息保密和信息完整性，防止了某些用户通过使用IP数据包嗅探工具非法窃听。尽管数据包嗅探仍能捕捉到通信的内容，但却无法破译。
因为非对称加密算法强度复杂、安全性依赖于算法与密钥。但对称加密主要为位运算，而非对称加密主要为幂运算，对称加密较快。

sessionId 如何维护（cookie 里带有 sessionId)


如果token被其他人拦截了，拦截者是否可以直接通过token来访问服务器呢？

讲一下JWT（Json Web Token）→怎么提取JWT的值？ → SSO? Auth2? (不会)

token的结构、[项目](https://www.nowcoder.com/jump/super-jump/word?word=项目)中登录的逻辑（简述）、token有什么问题、其他保持状态的方式

3.ARP协议的具体过程，ARP的表存储在哪里？

8.对于tcp来说，服务端断电和进程挂掉有什么区别？

ssl握手原理，发生在什么时候

IPv6？为什么 v4 不够？怎么缓解不够(子网，NAT)？还知道4和6哪些区别？

为什么网络中会发生丢包？（接收到的分组校验出错、分组在网络中超出最大存活时间、路由器接收分组数量达到上限后，会丢弃多余分组）

为什么会发生网络卡顿现象？（网络拥塞）

大小端，常用的系统是大端还是小端

DNS劫持是什么；DNS被劫持了怎么办

多久没收到会丢失重传，往返时间怎么预估

RTT怎么计算出来的

IP是怎么寻址的
IP包是怎么发的（路由器转发）路由器怎么转发

设计一个 TCP 上的应用层协议，怎么拆包：答的首部长度字段，不太确定

# 场景题

场景：我在聊天框发送消息，你跟我聊天这是咋做的

设计一个聊天系统，数据库咋设计，从头到尾的框架，消息怎么通过服务器转发的

我说使用TCP做，问为啥就能可靠，（balabala一堆）

一定可靠吗（无法保证应用层可靠），不可靠有哪些情况（网络崩溃 程序崩溃等 我了解的不多

1. ip地址映射城市，设计一个数据结构
2. 超买超卖问题



用过抖音，微信吧，当你的手机打开抖音和微信时，你觉得后台在做一些什么事情？

 怎么避免哈希冲突



**.两个球，100层楼，每个球在一定高度扔下去会碎，怎么用最少的次数判断几层楼会把球摔碎？** 

  一开始答的100/x+x-1的最小值，面试官提示还可以优化，纸笔算了一会得出了14次的答案（1+2+……+14>100），面试官说这是动规的思想，让给出状态转移方程，这里卡了大概5分钟面试官给了个提示才做出来



路由器和交换机具体都实现了什么功能？路由选择是如何实现的？

群聊怎么实现的？消息怎么存储的？消息怎么推送的？如果这个群特别大，怎么去优化？

如果让你设计一个直播系统，你会怎么设计？弹幕怎么存储？

OAuth2 和 JWT 的区别和作用？

 设计一个登录系统，包括账户密码登录，验证码登录，第三方授权等等

**怎么实现一个线程池**

# mysql

mysql分片知道吗？有实际应用吗？具体说一下？

b+树的叶子节点之间是单链还是双链，页与页之间，页内部呢。（后两个没弄过，说了一下自己理解）

binlog、redolog，两阶段提交、宕机数据恢复流程

# redis
[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)里面的zset，跳表怎么实现，怎么增删，

[mget和pipeline区别](https://jzwdsb.github.io/2019/02/redis_pipeline_mget/)

- mget和pipeline都是多命令一起执行，只有一次往返的网络IO
- mget在集群下可以并行去获取，pipeline还是串行

 [redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)数据类型 除了说的五种还有吗 还能做些什么

使用Redis进行数据统计，在高并发的情况下会不会有问题？

[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)的主键怎么生成，用什么方法。

雪花[算法](https://www.nowcoder.com/jump/super-jump/word?word=算法)的原理。一秒内有一万个请求，能不能生成。

做一个排行榜，用什么数据结构

2. redis怎么实现分布式锁，防止超买？redis操作是原子的，DECR操作原子操作 
3. DECR怎么实现多线程不出错？CAS原子操作 
4. redis的big key问题, 如何优化

# 实战
协程的实现原理

一个服务器，每秒QPS最多有十万，查询一个小时内查询最多的十个IP地址，要怎么设计。

登录流程，验证码怎么生成的，存储在哪里

又是一个限流题，问设计了一个5分钟限流1000次的接口，怎么统计前两分钟

kuberntes在[项目](https://www.nowcoder.com/jump/super-jump/word?word=项目)中的作用有哪方面，kuberntes中的可靠性如何保证 master挂了怎么办 etcd的安全怎么保证

，docker和虚拟机的区别

**多线程：两个线程交替打印1-10**

三个线程同时启动，优先级相同，分别打印A、B、C，问如何保证打印顺序为ABC。没答好，三个信号量，初始时刻 Sa=1,Sb=0,Sc=0

线程池是什么，讲讲里面具体的参数，线程池分什么种类，如何自己实现一个线程池

说get把参数放url里，是http协议这么规定的吗？(答错了，不是这么规定的)

如果当前面试界面崩溃了，如何排查问题

 设计一个限流器


大v发消息，设计什么机制让他发的消息能快速被刷新出来？

如果要你实现微博或者朋友圈的功能，数据库需要那些表？具体功能要求为
用户可以关注其他用户
用户可以发微博
用户可以在主页中看到关注用户的动态
python字典原理，实现一个能排序的字典如何实现，从数据结构出发

Python yield关键字讲一下

断点续传的原理是什么

FTP是什么协议 

HTTp 201，302，401，405，504。


1，每个结点是红的或黑的

2，根结点是黑的

3，每个叶子结点是黑的

4，如果一个结点是红的，则它的两个儿子都是黑的

5，对每个结点，从该结点到其子孙结点所有路径上的包含相同数目的黑结点


CA证书是啥，干啥用的 
系统介绍一下数据库中的索引
什么是索引 -> 索引的作用 -> MySQL 有哪些索引及其适用场景和优缺点 -> 索引的底层数据结构 B+ 树 -> InnoDB 和 MyISAM 索引的区别 -> 最左匹配原则 -> 建索引注意点 -> 索引调优思路。

系统调用也算中断吗，也要保存东西吗？

mysql 如何保持一致性
16.traceroute命令用处
12.IPv4和iPv6的区别（不知道）
DNS怎么保证最短路径
操作系统？调度算法，抢占式非抢占式时间片轮转的区别
操作系统里避免死锁的办法
docker镜像的结构是什么样子的？
虚拟内存和共享内存有什么区别

3.地址映射有哪些算法
线程同步有哪些方式，临界区算法了解哪些，信号量模型了解哪些
场景题，怎么保存用户最近浏览记录（答了两方面，本地缓存（用带头尾指针的链表），服务端用redis（zset）） 

什么是跨域问题?如何解决?
怎么解析http报文 
从A地往B运送3000L汽油，两地相距1000KM，一辆汽车最多可装载1000L汽油，每行驶1KM耗油1L，请问从B地最多可以得到多少L汽油？ 
（汽油可以在中途放下且只有一辆车） 
算了二十分钟只给了个250L的错误答案，最后问面试官说是533L，具体过程有很多方法解，本渣到现在还没算出来。 

Unicode UTF-8 ASCII编码方式有什么区别 
一个汉字占ASCII多少字节  UTF-8中呢 

路由地址你了解多少

计算机系统为什么64位之后就没有128位了（不是很懂）

6. epoll使用场景?select具体性能消耗在哪? 
7. epoll需要拷贝文件描述符吗？ 	

怎么保证又快又安全呢？把TCP和UDP的优点结合。（不懂的人快去看QUIC）
17.cookie是怎么被种到浏览器里的
18.cookie包含哪几项内容(格式)
19.cookie有一个字段叫做http only(好像是这么拼来着(大概发这个音)有去了解过吗
20.禁用cookie的话后怎么处理, 在url中添加cookie id是怎么样的传输过程
文件描述符是什么
线程池的核心线程数大小如何确定（计算密集型为N+1，IO密集型为2N）
红黑树说一下，跳表说一下，那你知道什么地方用了红黑树和跳表吗
4、用cookie和session实现用户登录的过程是咋样的，大概说下

linux中统计软中断调用的命令是啥？
MySQL里的锁底层是怎么实现的
keep-alive在HTTP请求的哪个部分
浏览器禁用cookie怎么办
mmap和direct_IO的区别？
python中的多进程，知道是怎么一回事么？
讲一下二叉树，排序二叉树，平衡二叉树，红黑树，B类树（我讲的很详细，大概讲了15分钟）

Docker的四种网络模式和实现
Kubernetes 的优雅启动和优雅停止
对Kubernetes和Docker的理解

1，进程的调度如何实现，如何使用红黑树的，
2，关于内存管理怎么跟红黑树有关系
3.网卡数据，
在以上这些场景，如何使用红黑树的？

jwt是对称加密，它是分成三部分了，一个是hash算法，一个是明文数据，以及签名
给你10000个IP，你如何快速查找这个IP是否存在，使用什么数据结构?


说一下主从复制怎么实现
是通过执行sql还是事务来实现主从复制?

 你熟悉什么排序，各种排序的时间复杂度 

2. 堆排序建堆过程，建堆时间复杂度 
   陷入内核态的时候要保存一些啥

逻辑地址呢？（我回答虚拟地址就是逻辑地址。。） 
快表是存储在哪里的 
延迟ACK了解么

刷过堆排序吗？（我：没有）面试官：那更好
堆排序的heap_insert函数
了解Docker的资源隔离原理吗（只知道是用了Linux的某个特性） 
十万（一亿）广东考生分数，找出其中中位数。
说一下AMQP协议是怎么定义一个MQ的

docker的隔离性 ？namespace技术。docker为啥要分层？
kafka的rebalence


# python

8.python字典原理，实现一个能[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)的字典如何实现，从数据结构出发

多线程中线程崩溃会产生什么影响？

